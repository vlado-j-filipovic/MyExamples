@page "/power"

<PageTitle>Power</PageTitle>
<h1 class="display-2">Power</h1>

<div class="row my-1">
    <div class="col">
        <input type="text" class="form-control" @bind="x"/>
    </div>
    <div class="col">
        <input type="number" class="form-control" @bind="n"/>
    </div>
</div>
<div class="row my-1">
    <div class="col justify-content-center">
        <button class="btn btn-primary my-1" @onclick="PowerWhile">Power</button>
        <button class="btn btn-secondary my-1" @onclick="PowerWhileDown">Power</button>
        <button class="btn btn-warning my-1" @onclick="PowerDoWhile">Power</button>
        <button class="btn btn-danger my-1" @onclick="PowerFor">Power</button>
    </div>
</div>
<div class="row my-1">
    <div class="col">
        Result: 
   </div>
    <div class="col">
        <b> @result </b>
    </div>

</div>
@code
{
    double x = 1;
    int n = 1;
    double result = 1;

    void PowerWhile()
    {
        result = 1;
        int counter = 1;
        if( n >= 0)
        {
            while(counter <= n)
            {
                result *= x;
                counter++;
            }
        }
        else
        {
            while(counter <= -n)
            {
                result /= x;
                counter++;
            }
        }
    }

    void PowerWhileDown()
    {
        result = 1;
        bool expIsNegative = false;
        if (n < 0)
        {
            expIsNegative = true;
        }
        int counter;
        if(expIsNegative) 
            counter = -n;
        else
            counter = n;
        while( counter > 0)
        {
            result *= x;
            counter--;
        }
        if(expIsNegative) 
            result = 1/ result;

    }

    void PowerDoWhile()
    {
        result = 1;
        if(n == 0)
        {
            return;
        }
        bool isNegativeExp;
        int absN;
        if( n > 0 )
        {
            isNegativeExp = false;
            absN = n;
        }
        else
        {
            isNegativeExp = true;
            absN = -n;
        }
        int counter = 0;
        do
        {
            if( !isNegativeExp )
                result *= x;
            else
                result /= x;
            counter ++;
        } while(counter < absN);
    }

    void PowerFor()
    {
        result = 1;
        if(n == 0)
        {
            return;
        }
        bool isNegativeExp;
        int absN;
        if( n > 0 )
        {
            isNegativeExp = false;
            absN = n;
        }
        else
        {
            isNegativeExp = true;
            absN = -n;
        }
        for(int counter=0; counter < absN; counter++)
        {
            if(isNegativeExp)
                result /= x;
            else
                result *= x;
        }
    }

}

